datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Employee {
  id        Int      @id @default(autoincrement())
  firstName String
  lastName  String
  telephone String
  email     String @unique
  managerId Int?
  manager   Employee? @relation("ManagerEmployees", fields: [managerId], references: [id])
  status    String
  departments Department[]
}

model Department {
  id        Int      @id @default(autoincrement())
  name      String
  status    String
  employees Employee[] @relation("DepartmentEmployees", references: [id])
}

model User {
  id           Int      @id @default(autoincrement())
  employeeId   Int
  employee     Employee  @relation(fields: [employeeId], references: [id])
  email        String    @unique
  password     String
  role         Role
}

enum Role {
  EMPLOYEE
  MANAGER
  HR_ADMIN
}
